{"version":3,"sources":["components/App.module.css","components/OrderList.module.css","components/ItemList.module.css","actions/items.js","actions/order.js","components/OrderList.js","notifications/Error.js","preloader/Preloader.js","components/OrderListContainer.js","components/ItemList.js","components/ItemListContainer.js","components/App.js","reducers/items.js","reducers/order.js","reducers/rootReducer.js","serviceWorker.js","index.js"],"names":["module","exports","getItems","items","type","fetchData","isFetching","setItems","dispatch","Axios","get","then","res","data","catch","error","catchError","addToOrder","itemName","itemId","itemPrice","sendToggle","isSending","clearCart","OrderList","props","className","st","order__list__item","name","count","Error","class","role","Preloader","style","margin","OrderListContainer","changeInputHandler","event","persist","setState","prev","target","value","sendOrder","preventDefault","createOrder","state","customer_name","customer_phone","myOrder","totalAmount","list","Object","keys","localStorage","map","key","listItem","JSON","parse","getItem","id","i","total","this","order","item","onSubmit","order__container","order__list","length","order__list__total","order__detail","onChange","disabled","order__list__btn","onClick","order__made__total","order__made__total__header","Component","connect","phone","post","customer_order","total_amount","response","console","log","Date","now","toString","setItem","stringify","alert","catchCartError","showAlert","text","payload","setTimeout","ItemList","price","quantity","item__item","removeItem","ItemListContainer","itemsListWrapper","itemsTitleWrapper","item__title","App","appWrapper","initialState","itemsReducer","action","orderReducer","newList","alreadyInOrder","forEach","push","reducers","combineReducers","Boolean","window","location","hostname","match","store","createStore","compose","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.79aa030d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__3NVUO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order__container\":\"OrderList_order__container__3FuZV\",\"order__list\":\"OrderList_order__list__1Vz1Z\",\"order__list__item\":\"OrderList_order__list__item__21tqG\",\"order__list__btn\":\"OrderList_order__list__btn__35oa1\",\"order__detail\":\"OrderList_order__detail__80GTi\",\"order__made__total\":\"OrderList_order__made__total__16_0d\",\"order__made__total__header\":\"OrderList_order__made__total__header__Ge91S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemsListWrapper\":\"ItemList_itemsListWrapper__31Uxl\",\"itemsTitleWrapper\":\"ItemList_itemsTitleWrapper__2cx9c\",\"item__title\":\"ItemList_item__title__CkLXp\",\"itemsWrapper\":\"ItemList_itemsWrapper__1Q7Bi\",\"item\":\"ItemList_item__lspKI\",\"item__item\":\"ItemList_item__item__1XXCw\"};","import Axios from 'axios';\r\n\r\nexport const GET_ITEMS = \"GET_ITEMS\";\r\nexport const FETCH_DATA = \"FETCH_DATA\";\r\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\r\nexport const RETURN_ITEM = \"RETURN_ITEM\";\r\nexport const CATCH_ERROR = \"CATCH_ERROR\";\r\n\r\nexport const getItems = (items) => ({\r\n    type: GET_ITEMS,\r\n    items\r\n});\r\n\r\nexport const fetchData = (isFetching) => ({\r\n    type: FETCH_DATA,\r\n    isFetching\r\n});\r\n\r\nexport const removeItem = (itemId) => ({\r\n    type: REMOVE_ITEM,\r\n    itemId\r\n})\r\n\r\nexport const returnItem = (itemId) => ({\r\n    type: RETURN_ITEM,\r\n    itemId\r\n})\r\n\r\nexport const catchError = (error) => ({\r\n    type: CATCH_ERROR,\r\n    error\r\n})\r\n\r\nexport const setItems = () => {\r\n    return (dispatch) => {\r\n        dispatch(fetchData(true));\r\n        Axios.get('https://5e2df3533b0d640014be10a0.mockapi.io/api/v1/items')\r\n            .then(res => {\r\n                dispatch(getItems(res.data));\r\n                dispatch(fetchData(false));\r\n            })\r\n            .catch((error) => {\r\n                dispatch(catchError(error));\r\n                dispatch(fetchData(false));\r\n            });\r\n    }\r\n}","import Axios from 'axios';\r\nimport { setItems } from './items';\r\n\r\nexport const ADD_TO_ORDER = \"ADD_TO_ORDER\";\r\nexport const SEND_ORDER_TOGGLE = \"SEND_ORDER_TOGGLE\";\r\nexport const REMOVE_CART_ITEMS = \"REMOVE_CART_ITEMS\";\r\nexport const CATCH_CART_ERROR = \"CATCH_CART_ERROR\";\r\nexport const SHOW_ALERT = \"SHOW_ALERT\";\r\nexport const HIDE_ALERT = \"HIDE_ALERT\";\r\n\r\nexport const addToOrder = (itemName, itemId, itemPrice) => ({\r\n  type: ADD_TO_ORDER,\r\n  itemName,\r\n  itemId,\r\n  itemPrice\r\n})\r\n\r\nexport const sendToggle = (isSending) => ({\r\n  type: SEND_ORDER_TOGGLE,\r\n  isSending\r\n})\r\n\r\nexport const removeItems = () => ({\r\n  type: REMOVE_CART_ITEMS\r\n})\r\n\r\nexport const catchCartError = (error) => ({\r\n  type: CATCH_CART_ERROR,\r\n  error\r\n})\r\n\r\nexport function showAlert(text) {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: SHOW_ALERT,\r\n      payload: text\r\n    })\r\n\r\n    setTimeout(() => {\r\n      dispatch(hideAlert())\r\n    }, 3000)\r\n  }\r\n}\r\n\r\nexport function hideAlert() {\r\n  return {\r\n    type: HIDE_ALERT\r\n  }\r\n}\r\n\r\nexport const createOrder = (name, phone, order, total) => {\r\n  return (dispatch) => {\r\n    dispatch(sendToggle(true));\r\n    Axios.post('https://5e2df3533b0d640014be10a0.mockapi.io/api/v1/order', {\r\n      customer_name: name,\r\n      customer_phone: phone,\r\n      customer_order: order,\r\n      total_amount: total\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        const order = {\r\n          id: response.data.id,\r\n          items: response.data.customer_order,\r\n          total: response.data.total_amount\r\n        };\r\n        const key = Date.now().toString()\r\n        localStorage.setItem(key, JSON.stringify(order));\r\n        dispatch(sendToggle(false));\r\n        dispatch(clearCart());\r\n        alert(`Заказ №${response.data.id} отправлен. Время создания: ${Date().toString()}!`);\r\n        dispatch(setItems());\r\n      })\r\n      .catch((error) => {\r\n        dispatch(catchCartError(error));\r\n      });\r\n  }\r\n}\r\n\r\nexport const clearCart = () => {\r\n  return (dispatch) => {\r\n    dispatch(removeItems());\r\n    dispatch(setItems());\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport st from './OrderList.module.css';\r\n\r\nconst OrderList = (props) => {\r\n    return (\r\n        <div className={st.order__list__item}>\r\n                <div>{props.name}</div>\r\n                <div>{props.count} pcs.</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderList;","import React from 'react';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div class=\"alert alert-danger\" role=\"alert\">Failed to load or send data.</div>\r\n    )\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div class=\"d-flex justify-content-center\" style={{margin: \"50px\"}}>\r\n            <div class=\"spinner-border\" role=\"status\">\r\n                <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addToOrder, createOrder, showAlert, clearCart } from '../actions/order';\r\nimport OrderList from './OrderList';\r\nimport Error from '../notifications/Error';\r\nimport Preloader from '../preloader/Preloader';\r\nimport st from './OrderList.module.css';\r\n\r\nclass OrderListContainer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            customer_name: '',\r\n            customer_phone: ''\r\n        }\r\n    }\r\n\r\n    changeInputHandler = event => {\r\n        event.persist();\r\n        this.setState(prev => ({\r\n            ...prev, ...{\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    }\r\n\r\n    sendOrder = (event) => {\r\n        event.preventDefault();\r\n        this.props.createOrder(this.state.customer_name, this.state.customer_phone, this.props.myOrder, this.props.totalAmount)\r\n        this.setState({ customer_name: '', customer_phone: '' });\r\n    }\r\n\r\n    render() {\r\n\r\n        const list = Object.keys(localStorage).map(key => {\r\n            const listItem = JSON.parse(localStorage.getItem(key));\r\n\r\n            return (\r\n                <div className={key}>\r\n                    <p><u><i>Order №{listItem.id}</i></u></p>\r\n                    <p>{listItem.items.map(i => <div>{i.name}: {i.count} pcs.</div>)}</p>\r\n                    <p><i>Total :</i> <b>{listItem.total} $</b></p>\r\n                    <hr />\r\n                </div>\r\n            );\r\n        });\r\n\r\n        const { myOrder, totalAmount, error, sendToggle } = this.props;\r\n        // let totalItems = myOrder.reduce((sum, item) => {\r\n        //     return sum += item.count;\r\n        // }, 0);\r\n\r\n        let order = myOrder.map(item => <OrderList {...item} key={item.id} />);\r\n\r\n        if (error) return <Error />\r\n        if (sendToggle) return <Preloader />\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.sendOrder}>\r\n                    <div className={st.order__container}>\r\n                        <div className={st.order__list}>\r\n                            <div>\r\n                                {(!order.length) ? 'Your order list is empty!' : order}\r\n                            </div>\r\n                            <hr />\r\n                            <div className={st.order__list__total}>\r\n                                <i>Total :</i> <b>{totalAmount} $</b>\r\n                            </div>\r\n                            <div>\r\n                            </div>\r\n                        </div>\r\n                        {/* <div>{totalItems === 0 ? `Your order list is empty!` : `You have ${totalItems} items in your order`}</div> */}\r\n                        <div>\r\n                            <div className={st.order__detail}>Name: <input\r\n                                className=\"form-control\" type='text'\r\n                                id='customer_name'\r\n                                value={this.state.customer_name}\r\n                                name='customer_name'\r\n                                onChange={this.changeInputHandler} />\r\n                            </div>\r\n                            <div className={st.order__detail}>Phone: <input\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                id='customer_phone'\r\n                                value={this.state.customer_phone}\r\n                                name='customer_phone'\r\n                                onChange={this.changeInputHandler} />\r\n                            </div>\r\n                            <div className={st.order__detail}>\r\n                                <button className=\"btn btn-success\" disabled={(order.length) ? '' : 'disabled'} type='submit'>Create order</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div className={st.order__list__btn}>\r\n                    <button className=\"btn btn-primary\"\r\n                        onClick={this.props.clearCart} disabled={myOrder.length ? '' : 'disabled'}>Clear cart</button>\r\n                </div>\r\n                <div className={st.order__made__total}>\r\n                    <div className={st.order__made__total__header}><b>List of orders you made:</b></div>\r\n                    <div className={st.order__made__total__header}>{Object.keys(list).length === 0 ? 'No orders yet!' : list}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    const { myOrder, totalAmount, error, sendToggle } = state.order;\r\n    return {\r\n        myOrder,\r\n        totalAmount,\r\n        error,\r\n        sendToggle\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        addToOrder,\r\n        createOrder,\r\n        showAlert,\r\n        clearCart\r\n    })(OrderListContainer);\r\n","import React from 'react';\r\nimport st from './ItemList.module.css';\r\n\r\nconst ItemList = (props) => {\r\n\r\n    const { name, price, quantity, id } = props;\r\n\r\n    return (\r\n        <div className={st.item}>\r\n            <div className={st.item__item}>\r\n                {name}\r\n            </div>\r\n            <div className={st.item__item}>\r\n                {price} $\r\n                </div>\r\n            <div className={st.item__item}>\r\n                {quantity} pcs.\r\n                </div>\r\n            <div className={st.item__item}><button className=\"btn btn-secondary\" onClick={() => {\r\n                props.removeItem(id);\r\n                props.addToOrder(name, id, price);\r\n            }\r\n            } disabled={props.quantity > 0 ? '' : 'disabled'}>Add</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemList;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchData, getItems, removeItem, setItems } from '../actions/items';\r\nimport { addToOrder } from '../actions/order';\r\nimport ItemList from './ItemList';\r\nimport Preloader from '../preloader/Preloader';\r\nimport Error from '../notifications/Error';\r\nimport st from './ItemList.module.css';\r\n\r\nclass ItemListContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setItems(this.items);\r\n    }\r\n\r\n    render() {\r\n\r\n        const { items, isFetching, error, removeItem, addToOrder } = this.props;\r\n\r\n        let item = items.map(item => <ItemList\r\n            {...item}\r\n            key={item.id}\r\n            removeItem={removeItem}\r\n            addToOrder={addToOrder} />);\r\n\r\n        if (isFetching) return <Preloader />\r\n        if (error) return <Error />\r\n\r\n        return (\r\n            <div className={st.itemsListWrapper}>\r\n                <div className={st.itemsTitleWrapper}>\r\n                    <div className={st.item__title}>Title</div>\r\n                    <div className={st.item__title}>Cost</div>\r\n                    <div className={st.item__title}>Qty</div>\r\n                    <div className={st.item__title}>Add to cart</div>\r\n                </div>\r\n                <div>\r\n                    {item}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStatetoProps = (state) => {\r\n    const { items, isFetching, error } = state.items;\r\n    return {\r\n        items,\r\n        isFetching,\r\n        error\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps,\r\n    {\r\n        getItems,\r\n        removeItem,\r\n        fetchData,\r\n        addToOrder,\r\n        setItems\r\n    })(ItemListContainer);","import React from 'react';\r\nimport OrderListContainer from './OrderListContainer';\r\nimport ItemListContainer from './ItemListContainer';\r\nimport st from './App.module.css';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className={st.appWrapper}>\r\n            <div><ItemListContainer /></div>\r\n            <div><OrderListContainer /></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import * as actions from '../actions/items';\r\n\r\nlet initialState = {\r\n    items: [],\r\n    isFetching: true,\r\n    error: null\r\n}\r\n\r\nconst itemsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case actions.GET_ITEMS:\r\n            return {\r\n                ...state,\r\n                items: action.items\r\n            }\r\n\r\n        case actions.FETCH_DATA:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case actions.REMOVE_ITEM:\r\n\r\n            return {\r\n                ...state,\r\n                items: state.items.map(item => (item.id === action.itemId) ? { ...item, quantity: item.quantity - 1 } : item)\r\n            }\r\n\r\n        case actions.RETURN_ITEM:\r\n\r\n            return {\r\n                ...state,\r\n                items: state.items.map(item => (item.id === action.itemId) ? { ...item, quantity: item.quantity + 1 } : item)\r\n            }\r\n\r\n        case actions.CATCH_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default itemsReducer;","import * as actions from '../actions/order';\r\n\r\nlet initialState = {\r\n    myOrder: [],\r\n    totalAmount: 0,\r\n    sendToggle: false,\r\n    error: null\r\n}\r\n\r\nconst orderReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case actions.ADD_TO_ORDER:\r\n\r\n            const newList = state.myOrder;\r\n\r\n            let alreadyInOrder = false;\r\n\r\n            newList.forEach(item => {\r\n                if (item.id === action.itemId) {\r\n                    item.count += 1;\r\n                    alreadyInOrder = true;\r\n                }\r\n            });\r\n\r\n            if (!alreadyInOrder) {\r\n                newList.push(\r\n                    {\r\n                        name: action.itemName,\r\n                        id: action.itemId,\r\n                        price: action.itemPrice,\r\n                        count: 1\r\n                    })\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                myOrder: newList,\r\n                totalAmount: state.totalAmount + action.itemPrice\r\n            }\r\n\r\n        case actions.REMOVE_CART_ITEMS:\r\n            return {\r\n                ...state,\r\n                myOrder: [],\r\n                totalAmount: 0\r\n            }\r\n\r\n        case actions.SEND_ORDER_TOGGLE:\r\n            return {\r\n                ...state,\r\n                sendToggle: action.isSending\r\n            }\r\n\r\n        case actions.CATCH_CART_ERROR:\r\n                return {\r\n                    ...state,\r\n                    error: action.error\r\n                }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default orderReducer;","import { combineReducers } from 'redux';\r\nimport itemsReducer from '../reducers/items';\r\nimport orderReducer from '../reducers/order';\r\n\r\nconst reducers = combineReducers({\r\n    items: itemsReducer,\r\n    order: orderReducer\r\n});\r\n\r\nexport default reducers;\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport reducers from './reducers/rootReducer'\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(\n  reducers,\n  compose(\n      applyMiddleware(thunkMiddleware),\n      //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}